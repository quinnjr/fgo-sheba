<!-- Cosmic Background -->
<div class="cosmic-bg"></div>
<div class="stars" #starsContainer></div>
<canvas class="particle-canvas" #particleCanvas></canvas>

<!-- Navigation -->
<nav class="nav" [class.scrolled]="isScrolled()">
  <div class="nav-container">
    <a href="#" class="nav-logo">
      <svg class="nav-logo-icon" viewBox="0 0 24 24" width="32" height="32">
        <circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="1.5" opacity="0.6"/>
        <circle cx="12" cy="12" r="6" fill="none" stroke="currentColor" stroke-width="1.5"/>
        <circle cx="12" cy="12" r="2.5" fill="currentColor"/>
        <circle cx="14" cy="10" r="0.8" fill="white" opacity="0.9"/>
      </svg>
      <span class="nav-logo-text">SHEBA</span>
    </a>

    <div class="nav-links">
      <a href="#features" class="nav-link">Features</a>
      <a href="#installation" class="nav-link">Installation</a>
      <a href="#usage" class="nav-link">Usage</a>
      <a href="#api" class="nav-link">API</a>
      <a href="https://github.com/quinnjr/fgo-sheba" target="_blank" class="nav-link nav-link-github">
        <fa-icon [icon]="['fab', 'github']" size="lg"></fa-icon>
      </a>
    </div>
  </div>
</nav>

<!-- Hero Section -->
<section class="hero">
  <div class="hero-content">
    <!-- Animated Logo -->
    <div class="hero-logo animate-float">
      <div class="hero-logo-rings">
        <div class="ring ring-outer"></div>
        <div class="ring ring-middle"></div>
        <div class="ring ring-inner"></div>
      </div>
      <div class="hero-logo-eye">
        <div class="eye-iris"></div>
        <div class="eye-pupil"></div>
        <div class="eye-glint"></div>
      </div>
    </div>

    <h1 class="hero-title animate-fade-in-up">
      <span class="text-glow">FGO SHEBA</span>
    </h1>

    <p class="hero-subtitle animate-fade-in-up stagger-1">
      <span class="hero-subtitle-jp">未来を見通すレンズ</span>
      <span class="hero-subtitle-en">The Lens of the Future</span>
    </p>

    <p class="hero-description animate-fade-in-up stagger-2">
      AI-powered Fate/Grand Order automation for Android.<br>
      Intelligent card selection, NP timing, and skill usage.
    </p>

    <div class="hero-actions animate-fade-in-up stagger-3">
      <a href="#installation" class="btn btn-primary">
        <fa-icon [icon]="['fas', 'download']"></fa-icon>
        Download
      </a>
      <a href="https://github.com/quinnjr/fgo-sheba" target="_blank" class="btn btn-secondary">
        <fa-icon [icon]="['fab', 'github']"></fa-icon>
        View on GitHub
      </a>
    </div>

    <div class="hero-stats animate-fade-in-up stagger-4">
      <div class="stat">
        <span class="stat-value text-glow">17</span>
        <span class="stat-label">Languages</span>
      </div>
      <div class="stat-divider"></div>
      <div class="stat">
        <span class="stat-value text-glow">54</span>
        <span class="stat-label">Tests Passing</span>
      </div>
      <div class="stat-divider"></div>
      <div class="stat">
        <span class="stat-value text-glow">
          <fa-icon [icon]="['fab', 'rust']"></fa-icon>
        </span>
        <span class="stat-label">+ Kotlin</span>
      </div>
    </div>
  </div>

  <div class="hero-scroll-indicator">
    <span>Scroll to explore</span>
    <fa-icon [icon]="['fas', 'chevron-down']" class="scroll-arrow-icon"></fa-icon>
  </div>
</section>

<!-- Features Section -->
<section id="features" class="section features-section">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">
        <span class="text-iris-glow">Powerful Features</span>
      </h2>
      <p class="section-subtitle">
        Everything you need for intelligent FGO automation
      </p>
    </div>

    <div class="features-grid">
      <!-- AI Battle Engine -->
      <div class="feature-card card">
        <div class="feature-icon feature-icon-ai">
          <fa-icon [icon]="['fas', 'brain']" size="2x"></fa-icon>
        </div>
        <h3 class="feature-title">AI Battle Engine</h3>
        <p class="feature-description">
          Machine learning-powered decision making for optimal card chains, NP timing, and skill usage.
        </p>
        <ul class="feature-list">
          <li><fa-icon [icon]="['fas', 'bolt']" class="list-icon"></fa-icon> Intelligent card selection</li>
          <li><fa-icon [icon]="['fas', 'bolt']" class="list-icon"></fa-icon> Dynamic NP timing</li>
          <li><fa-icon [icon]="['fas', 'bolt']" class="list-icon"></fa-icon> Adaptive skill usage</li>
        </ul>
      </div>

      <!-- Vision System -->
      <div class="feature-card card">
        <div class="feature-icon feature-icon-vision">
          <fa-icon [icon]="['fas', 'eye']" size="2x"></fa-icon>
        </div>
        <h3 class="feature-title">Vision System</h3>
        <p class="feature-description">
          ONNX-based ML models for real-time screen recognition and game state detection.
        </p>
        <ul class="feature-list">
          <li><fa-icon [icon]="['fas', 'bolt']" class="list-icon"></fa-icon> Card type recognition</li>
          <li><fa-icon [icon]="['fas', 'bolt']" class="list-icon"></fa-icon> Servant detection</li>
          <li><fa-icon [icon]="['fas', 'bolt']" class="list-icon"></fa-icon> HP/NP bar reading</li>
        </ul>
      </div>

      <!-- Stealth Mode -->
      <div class="feature-card card">
        <div class="feature-icon feature-icon-stealth">
          <fa-icon [icon]="['fas', 'user-shield']" size="2x"></fa-icon>
        </div>
        <h3 class="feature-title">Stealth Mode</h3>
        <p class="feature-description">
          Anti-detection features with human behavior simulation for safer automation.
        </p>
        <ul class="feature-list">
          <li><fa-icon [icon]="['fas', 'bolt']" class="list-icon"></fa-icon> Humanized timing</li>
          <li><fa-icon [icon]="['fas', 'bolt']" class="list-icon"></fa-icon> Random tap offsets</li>
          <li><fa-icon [icon]="['fas', 'bolt']" class="list-icon"></fa-icon> Detection avoidance</li>
        </ul>
      </div>

      <!-- Multi-Language -->
      <div class="feature-card card">
        <div class="feature-icon feature-icon-i18n">
          <fa-icon [icon]="['fas', 'globe']" size="2x"></fa-icon>
        </div>
        <h3 class="feature-title">17 Languages</h3>
        <p class="feature-description">
          Fully translated interface supporting players worldwide in their native language.
        </p>
        <ul class="feature-list">
          <li><fa-icon [icon]="['fas', 'bolt']" class="list-icon"></fa-icon> 日本語, 中文, 한국어</li>
          <li><fa-icon [icon]="['fas', 'bolt']" class="list-icon"></fa-icon> English, Español, Français</li>
          <li><fa-icon [icon]="['fas', 'bolt']" class="list-icon"></fa-icon> Deutsch, Русский, العربية</li>
        </ul>
      </div>
    </div>
  </div>
</section>

<!-- Installation Section -->
<section id="installation" class="section installation-section">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">
        <span class="text-glow">Installation</span>
      </h2>
      <p class="section-subtitle">
        Get started in minutes
      </p>
    </div>

    <div class="install-tabs">
      <button class="install-tab" [class.active]="activeTab() === 'apk'" (click)="setActiveTab('apk')">
        <fa-icon [icon]="['fas', 'mobile-screen']"></fa-icon> Download APK
      </button>
      <button class="install-tab" [class.active]="activeTab() === 'source'" (click)="setActiveTab('source')">
        <fa-icon [icon]="['fas', 'wrench']"></fa-icon> Build from Source
      </button>
    </div>

    <div class="install-content card">
      @if (activeTab() === 'apk') {
        <div class="install-panel">
          <h3>Download Pre-built APK</h3>
          <p>The easiest way to get started. Download the latest release from GitHub.</p>

          <div class="install-steps">
            <div class="install-step">
              <span class="step-number">1</span>
              <div class="step-content">
                <h4><fa-icon [icon]="['fas', 'download']"></fa-icon> Download</h4>
                <p>Get the latest APK from the releases page</p>
                <a href="https://github.com/quinnjr/fgo-sheba/releases" target="_blank" class="btn btn-primary">
                  <fa-icon [icon]="['fas', 'download']"></fa-icon> Download Latest Release
                </a>
              </div>
            </div>

            <div class="install-step">
              <span class="step-number">2</span>
              <div class="step-content">
                <h4><fa-icon [icon]="['fab', 'android']"></fa-icon> Install</h4>
                <p>Enable "Install from unknown sources" and install the APK</p>
              </div>
            </div>

            <div class="install-step">
              <span class="step-number">3</span>
              <div class="step-content">
                <h4><fa-icon [icon]="['fas', 'gear']"></fa-icon> Grant Permissions</h4>
                <p>Enable Accessibility Service and Overlay permission</p>
              </div>
            </div>
          </div>
        </div>
      }

      @if (activeTab() === 'source') {
        <div class="install-panel">
          <h3>Build from Source</h3>
          <p>For developers who want to customize or contribute.</p>

          <div class="code-block">
            <div class="code-header">
              <span class="code-lang"><fa-icon [icon]="['fas', 'terminal']"></fa-icon> bash</span>
              <button class="code-copy" (click)="copyCode()">
                <fa-icon [icon]="copied() ? ['fas', 'check'] : ['fas', 'copy']"></fa-icon>
                {{ copied() ? 'Copied!' : 'Copy' }}
              </button>
            </div>
            <pre><code><span class="token-comment"># Clone the repository</span>
git clone https://github.com/quinnjr/fgo-sheba.git
cd fgo-sheba

<span class="token-comment"># Install Rust targets for Android</span>
rustup target add aarch64-linux-android
rustup target add armv7-linux-androideabi

<span class="token-comment"># Build Rust libraries</span>
cargo build --release --target aarch64-linux-android

<span class="token-comment"># Build Android APK</span>
cd android
./gradlew assembleRelease</code></pre>
          </div>

          <div class="requirements">
            <h4><fa-icon [icon]="['fas', 'cog']"></fa-icon> Requirements</h4>
            <ul>
              <li><fa-icon [icon]="['fab', 'rust']" class="req-icon"></fa-icon> Rust 1.85+ (2024 edition)</li>
              <li><fa-icon [icon]="['fab', 'android']" class="req-icon"></fa-icon> Android NDK r26b+</li>
              <li><fa-icon [icon]="['fas', 'code']" class="req-icon"></fa-icon> JDK 17+</li>
              <li><fa-icon [icon]="['fas', 'gear']" class="req-icon"></fa-icon> Gradle 8.5+</li>
            </ul>
          </div>
        </div>
      }
    </div>
  </div>
</section>

<!-- Usage Section -->
<section id="usage" class="section usage-section">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">
        <span class="text-iris-glow">How to Use</span>
      </h2>
      <p class="section-subtitle">
        Simple setup, powerful automation
      </p>
    </div>

    <div class="usage-grid">
      <div class="usage-step">
        <div class="usage-step-number">01</div>
        <div class="usage-step-content">
          <h3><fa-icon [icon]="['fas', 'gear']"></fa-icon> Enable Permissions</h3>
          <p>Grant Accessibility Service and Overlay permissions in the app settings.</p>
        </div>
      </div>

      <div class="usage-step">
        <div class="usage-step-number">02</div>
        <div class="usage-step-content">
          <h3><fa-icon [icon]="['fas', 'rocket']"></fa-icon> Launch FGO</h3>
          <p>Start Fate/Grand Order and navigate to a quest you want to automate.</p>
        </div>
      </div>

      <div class="usage-step">
        <div class="usage-step-number">03</div>
        <div class="usage-step-content">
          <h3><fa-icon [icon]="['fas', 'bolt']"></fa-icon> Start Automation</h3>
          <p>Press the Start button in Sheba. The floating overlay will appear for control.</p>
        </div>
      </div>

      <div class="usage-step">
        <div class="usage-step-number">04</div>
        <div class="usage-step-content">
          <h3><fa-icon [icon]="['fas', 'eye']"></fa-icon> Monitor & Adjust</h3>
          <p>Watch the AI make decisions. Adjust settings as needed via the overlay.</p>
        </div>
      </div>
    </div>

    <div class="tips-card card">
      <h3><fa-icon [icon]="['fas', 'lightbulb']"></fa-icon> Pro Tips</h3>
      <ul>
        <li><fa-icon [icon]="['fas', 'arrow-right']" class="tip-icon"></fa-icon> Disable USB debugging while using the app for better stealth</li>
        <li><fa-icon [icon]="['fas', 'arrow-right']" class="tip-icon"></fa-icon> Use on a stable network connection for best performance</li>
        <li><fa-icon [icon]="['fas', 'arrow-right']" class="tip-icon"></fa-icon> Configure card priorities in settings for your farming style</li>
        <li><fa-icon [icon]="['fas', 'arrow-right']" class="tip-icon"></fa-icon> The AI learns from battle patterns - let it run a few rounds to optimize</li>
      </ul>
    </div>
  </div>
</section>

<!-- API Section -->
<section id="api" class="section api-section">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">
        <span class="text-glow">Architecture</span>
      </h2>
      <p class="section-subtitle">
        Built with modern, powerful technologies
      </p>
    </div>

    <div class="arch-diagram">
      <div class="arch-layer arch-android">
        <h4><fa-icon [icon]="['fab', 'android']"></fa-icon> Android Layer</h4>
        <div class="arch-components">
          <span class="arch-component">MainActivity</span>
          <span class="arch-component">AccessibilityService</span>
          <span class="arch-component">OverlayService</span>
          <span class="arch-component">ScreenCapture</span>
        </div>
      </div>

      <div class="arch-connector">
        <fa-icon [icon]="['fas', 'chevron-down']" size="2x"></fa-icon>
        <span>JNI Bridge</span>
      </div>

      <div class="arch-layer arch-rust">
        <h4><fa-icon [icon]="['fab', 'rust']"></fa-icon> Rust Core</h4>
        <div class="arch-components">
          <span class="arch-component">Battle AI</span>
          <span class="arch-component">Vision System</span>
          <span class="arch-component">Input Generator</span>
          <span class="arch-component">Stealth Module</span>
        </div>
      </div>

      <div class="arch-connector">
        <fa-icon [icon]="['fas', 'chevron-down']" size="2x"></fa-icon>
        <span>ONNX Runtime</span>
      </div>

      <div class="arch-layer arch-ml">
        <h4><fa-icon [icon]="['fas', 'brain']"></fa-icon> ML Models</h4>
        <div class="arch-components">
          <span class="arch-component">Card Classifier</span>
          <span class="arch-component">Servant Detector</span>
          <span class="arch-component">OCR Engine</span>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Footer -->
<footer class="footer">
  <div class="container">
    <div class="footer-content">
      <div class="footer-brand">
        <div class="footer-logo">
          <svg viewBox="0 0 24 24" width="40" height="40">
            <circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="1.5" opacity="0.6"/>
            <circle cx="12" cy="12" r="6" fill="none" stroke="currentColor" stroke-width="1.5"/>
            <circle cx="12" cy="12" r="2.5" fill="currentColor"/>
          </svg>
          <span>SHEBA</span>
        </div>
        <p class="footer-tagline">The future you see is the future you create.</p>
      </div>

      <div class="footer-links">
        <div class="footer-column">
          <h4>Project</h4>
          <a href="https://github.com/quinnjr/fgo-sheba" target="_blank">
            <fa-icon [icon]="['fab', 'github']"></fa-icon> GitHub
          </a>
          <a href="https://github.com/quinnjr/fgo-sheba/releases" target="_blank">
            <fa-icon [icon]="['fas', 'download']"></fa-icon> Releases
          </a>
          <a href="https://github.com/quinnjr/fgo-sheba/issues" target="_blank">
            <fa-icon [icon]="['fas', 'code']"></fa-icon> Issues
          </a>
        </div>

        <div class="footer-column">
          <h4>Resources</h4>
          <a href="#features"><fa-icon [icon]="['fas', 'bolt']"></fa-icon> Features</a>
          <a href="#installation"><fa-icon [icon]="['fas', 'download']"></fa-icon> Installation</a>
          <a href="#usage"><fa-icon [icon]="['fas', 'rocket']"></fa-icon> Usage</a>
        </div>

        <div class="footer-column">
          <h4>Community</h4>
          <a href="https://github.com/quinnjr/fgo-sheba/discussions" target="_blank">
            <fa-icon [icon]="['fas', 'code']"></fa-icon> Discussions
          </a>
          <a href="https://github.com/quinnjr/fgo-sheba/blob/main/CONTRIBUTING.md" target="_blank">
            <fa-icon [icon]="['fas', 'code']"></fa-icon> Contributing
          </a>
          <a href="https://patreon.com/PegasusHeavyIndustries" target="_blank">
            <fa-icon [icon]="['fab', 'patreon']"></fa-icon> Support
          </a>
        </div>
      </div>
    </div>

    <div class="footer-bottom">
      <p>Built with ❤️ by <a href="https://github.com/PegasusHeavyIndustries" target="_blank">Pegasus Heavy Industries</a></p>
      <p class="footer-disclaimer">
        This tool is for educational purposes. Not affiliated with Aniplex, TYPE-MOON, or Lasengle.
      </p>
    </div>
  </div>
</footer>
